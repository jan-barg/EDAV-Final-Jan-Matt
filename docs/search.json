[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Economic Growth and the Shrinking Family: A Cross-Country Exploration",
    "section": "",
    "text": "1 Introduction\nGlobally, birth rates have fallen to record lows, raising questions about how economic growth and prosperity shapes population trends. We were drawn to this topic because it sits at the intersection of economics and human behavior, how peopleâ€™s choices about family size might shift as societies become wealthier, more urban, and more educated. The idea of a â€œfertility collapseâ€ is more than a simple demographic story; it has deep implications for labor markets, social systems, and long-term economic stability. By looking at how economic growth and fertility rates move together or apart across time and regions, we hope to better understand what drives these changes in population dynamics, and if there are any countries towards which we can look for in hopes of finding a reversal strategy.",
    "crumbs": [
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2Â  Data",
    "section": "",
    "text": "2.1 Description\nOur data will come from the Federal Reserve Bank of St.Â Louisâ€™s FRED (Federal Reserve Economic Data) database. FRED compiles and maintains a wide range of economic and demographic indicators collected by government agencies and international organizations such as the World Bank, IMF, and OECD. The data are reported in structured time series format, usually at monthly, quarterly, or annual frequencies depending on the indicator. Each series includes detailed metadata on measurement units, coverage, and source methodology. For our project, we plan to use country-level data on fertility rates and economic growth indicators. One challenge we might face is that the time ranges and reporting frequencies can differ across datasets, which may require some cleaning and alignment before analysis. Since there is no multi-country dataset that covers all the nations weâ€™re interested in, we will write a python script that downloads each investigated countryâ€™s data via API and then compiles a master dataset to work with. Here are example datasets for the United States of America that we would use. Many of these are available for multiple countries, hence we would scrape the same datasets, with identical units of measure, for multiple countries.\nFertility Rate â€” FRED Series\nThis data set is specifically from the World Bank. It is a time series dataset for the fertility rate in the United States as Births Per Woman from 1960 to 2023.\nConstant GDP Per Capita â€” FRED Series\nThis data set is comes from the World Bank. It is a time series dataset of the GDP per capita for the US from 1960 to 2025.\nEmployment-to-Population Ratio â€” FRED Series\nThis data set is from the World Bank. It is a time series dataset that shows the employment rate to population ratio as a percentage.\nFemale Labor Force Participation Rate (Ages 15+) â€” World Bank Indicator\nThis dataset comes from the World Bank, and it measures the percentage of women ages 15 and older who are part of the labor forceâ€”that is, women who are either employed or actively seeking employment. It provides insight into female engagement in the economy and helps assess how social, economic, and policy factors influence gender participation in the workforce. The data are reported annually and are available for most countries beginning in 1990.\nGini Index â€” FRED Series\nThis data comes from the World Bank. The Gini index measures income inequality by calculating the area between the Lorenz curve and the line of perfect equality, where 0 represents perfect equality and 100 represents perfect inequality.\nTotal Population â€” FRED Series\nThis data, sourced from the World Bank, shows the countryâ€™s total population. It might be useful in investigating whether immigration policies compensate for below-replacement birthrates.\nNet Migration â€” World Bank Indicator\nThis data set comes from the World Bank and measures the net migration rate, defined as the difference between the number of immigrants and the number of emigrants for a country over a course of a year. Positive values indicate that more people are entering the country than leaving, while negative values indicate net emigration. This variable is particularly relevant for our analysis, as migration inflows can offset demographic decline caused by falling fertility rates. We also plan to examine possible lag effects between changes in migration and subsequent shifts in population growth.",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#data-collection-plan",
    "href": "data.html#data-collection-plan",
    "title": "2Â  Data",
    "section": "2.2 Data Collection Plan",
    "text": "2.2 Data Collection Plan\nFor the data collection, we will scrape data for selected countries and then assess data completeness, as the datasets vary in their time scope from country to country. Once we evaluate missing data, we aim to address the following questions:\n\nCountry Selection:\nWhich countries provide a holistic overview of birth rates and their correlations with our selected economic and social indicators?\nTimeframe Selection:\nWhat timeframe allows us to gain valuable insights without having to impute a significant portion of the data (since heavy imputation could introduce inaccuracies)?\nHandling Missing Data:\nHow should we address missing values while preserving accuracy and comparability to the highest extent possible?\n\nOur plan is to first compile the raw datasets via API (using Python) for each indicator and country, merge them into a master dataset, and then perform exploratory analysis on the combined and cleaned data.",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#country-selection",
    "href": "data.html#country-selection",
    "title": "2Â  Data",
    "section": "2.3 Country Selection",
    "text": "2.3 Country Selection\nTo gain a holistic global overview of the declining birthrate problem, we decided to focus on 13 countries, spanning all 7 continents, with varying GDP per capita levels. The investigated countries range from highly populated developing economies (e.g.Â India) to aging advanced economies (e.g.Â South Korea), and span different stages of demographic transition - from high fertility (Nigeria) to very low fertility (Japan).\nThe final country selection is structured as follows:\n\n\n\n\n\n\n\n\nRegion\nCountry\nRationale\n\n\n\n\nNorth America\nUnited States ğŸ‡ºğŸ‡¸Canada ğŸ‡¨ğŸ‡¦\nAdvanced economies with stable but below-replacement fertility; strong immigration inflows sustain population growth.\n\n\nEurope\nGermany ğŸ‡©ğŸ‡ªSweden ğŸ‡¸ğŸ‡ªPoland ğŸ‡µğŸ‡±\nContrasting European cases: Western vs.Â Central; differing immigration policies, labor structures, and fertility recovery trends.\n\n\nAsia\nIndia ğŸ‡®ğŸ‡³China ğŸ‡¨ğŸ‡³Japan ğŸ‡¯ğŸ‡µSouth Korea ğŸ‡°ğŸ‡·\nBroad spectrum of development and demographic stages, from rapid growth to severe aging and fertility decline.\n\n\nAfrica\nNigeria ğŸ‡³ğŸ‡¬South Africa ğŸ‡¿ğŸ‡¦\nHigh-fertility versus mid-transition economies; provide insight into the early stages of demographic transition.\n\n\nSouth America\nBrazil ğŸ‡§ğŸ‡·\nEmerging economy experiencing a steady decline in fertility while maintaining moderate population growth.\n\n\nOceania\nAustralia ğŸ‡¦ğŸ‡º\nImmigration-driven growth with below-replacement fertility; valuable case for lag analysis between migration and population stabilization.",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#data-collection",
    "href": "data.html#data-collection",
    "title": "2Â  Data",
    "section": "2.4 Data Collection",
    "text": "2.4 Data Collection\nThe data collection was done using API calls to the FRED and World Bank databases, using a python script, available here. The script created master-wide and master-long datasets, which will be used as the backbone of this project.",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#date-range-selection",
    "href": "data.html#date-range-selection",
    "title": "2Â  Data",
    "section": "2.5 Date Range Selection",
    "text": "2.5 Date Range Selection\n\n\nCode\nlibrary(dplyr)\nlibrary(readr)\n\n# ---- Set your input file here ----\nfile_path &lt;- \"./data-gathering/data/clean/master_long.csv\"  # &lt;--- change if needed\n\n# ---- Read & coerce types ----\nmaster_long &lt;- read_csv(file_path, show_col_types = FALSE) |&gt;\n  mutate(\n    year  = as.integer(year),\n    value = suppressWarnings(as.numeric(value))\n  )\n\n# ---- Helper to compute % years absent within first/last non-missing ----\ncompute_year_gaps &lt;- function(yrs_nonmiss) {\n  if (length(yrs_nonmiss) == 0L) {\n    return(list(\n      first_non_missing_year = NA_integer_,\n      last_non_missing_year  = NA_integer_,\n      total_years_in_range   = NA_integer_,\n      years_present          = 0L,\n      years_missing          = NA_integer_,\n      pct_years_missing      = NA_real_\n    ))\n  }\n  first_y &lt;- min(yrs_nonmiss)\n  last_y  &lt;- max(yrs_nonmiss)\n  full_seq &lt;- seq.int(first_y, last_y)\n  present  &lt;- length(unique(yrs_nonmiss))\n  total    &lt;- length(full_seq)\n  missing  &lt;- total - present\n  list(\n    first_non_missing_year = first_y,\n    last_non_missing_year  = last_y,\n    total_years_in_range   = total,\n    years_present          = present,\n    years_missing          = missing,\n    pct_years_missing      = missing / total\n  )\n}\n\n# ---- Compute per country-variable ----\nmissing_summary &lt;- master_long |&gt;\n  group_by(country, variable) |&gt;\n  # work only with years that have non-missing, finite values\n  reframe({\n    yrs_nonmiss &lt;- year[is.finite(value) & !is.na(value)]\n    out &lt;- compute_year_gaps(yrs_nonmiss)\n    tibble(\n      first_non_missing_year = out$first_non_missing_year,\n      last_non_missing_year  = out$last_non_missing_year,\n      total_years_in_range   = out$total_years_in_range,\n      years_present          = out$years_present,\n      years_missing          = out$years_missing,\n      pct_years_missing      = out$pct_years_missing\n    )\n  }) |&gt;\n  ungroup() |&gt;\n  mutate(\n    date_range = ifelse(\n      is.na(first_non_missing_year) | is.na(last_non_missing_year),\n      NA_character_,\n      paste0(first_non_missing_year, \"â€“\", last_non_missing_year)\n    )\n  ) |&gt;\n  arrange(country, variable)\n\n# ---- Show table ----\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(readr)\n\n# Optional: reload missing_summary if not in memory\n# missing_summary &lt;- read_csv(\"outputs/missing_summary.csv\")\n\n# Create a compact [startâ€“end] string for each variable-country combo\ncoverage_table &lt;- missing_summary |&gt;\n  mutate(\n    coverage = ifelse(\n      is.na(first_non_missing_year) | is.na(last_non_missing_year),\n      \"â€”\",\n      paste0(first_non_missing_year, \"â€“\", last_non_missing_year)\n    )\n  ) |&gt;\n  select(country, variable, coverage) |&gt;\n  pivot_wider(\n    names_from = variable,\n    values_from = coverage\n  ) |&gt;\n  arrange(country)\n\n# Optionally rename columns to more readable titles\ncoverage_table &lt;- coverage_table |&gt;\n  rename(\n    `Country` = country,\n    `Employment-to-Population Ratio` = emp_to_pop,\n    `Fertility Rate` = fertility_rate,\n    `Female Labor Force Participation` = flfpr,\n    `GDP per Capita (constant)` = gdp_capita_const,\n    `Gini Index` = gini_index,\n    `Net Migration` = net_migration,\n    `Total Population` = total_population\n  )\n\nlibrary(gt)\n\ncoverage_table |&gt;\n  gt() |&gt;\n  tab_header(\n    title = \"Coverage Range by Country and Variable\",\n    subtitle = \"Each cell shows the first and last available year\"\n  ) |&gt;\n  cols_label(\n    `Employment-to-Population Ratio` = \"Emp-to-Pop\",\n    `Fertility Rate` = \"Fertility\",\n    `Female Labor Force Participation` = \"FLFPR\",\n    `GDP per Capita (constant)` = \"GDP (const)\",\n    `Gini Index` = \"Gini\",\n    `Net Migration` = \"Migration\",\n    `Total Population` = \"Population\"\n  ) |&gt;\n  opt_table_font(font = \"Arial\") |&gt;\n  opt_all_caps() |&gt;\n  opt_table_lines()\n\n\n\n\n\n\nCoverage range by country and variable\n\n\nCoverage Range by Country and Variable\n\n\nEach cell shows the first and last available year\n\n\nCountry\nEmp-to-Pop\nFertility\nFLFPR\nGDP (const)\nGini\nMigration\nPopulation\n\n\n\n\nAUS\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1981â€“2020\n1960â€“2024\n1960â€“2024\n\n\nBRA\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1981â€“2023\n1960â€“2024\n1960â€“2024\n\n\nCAN\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1971â€“2021\n1960â€“2024\n1960â€“2024\n\n\nCHN\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1981â€“2022\n1960â€“2024\n1960â€“2024\n\n\nDEU\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1991â€“2020\n1960â€“2024\n1960â€“2024\n\n\nIND\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1977â€“2022\n1960â€“2024\n1960â€“2024\n\n\nJPN\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n2008â€“2020\n1960â€“2024\n1960â€“2024\n\n\nKOR\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2023\n2006â€“2021\n1960â€“2024\n1960â€“2024\n\n\nNGA\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1985â€“2022\n1960â€“2024\n1960â€“2024\n\n\nPOL\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1990â€“2024\n1985â€“2023\n1960â€“2024\n1960â€“2024\n\n\nSWE\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1975â€“2023\n1960â€“2024\n1960â€“2024\n\n\nUSA\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1963â€“2023\n1960â€“2024\n1960â€“2024\n\n\nZAF\n1991â€“2024\n1960â€“2023\n1990â€“2024\n1960â€“2024\n1993â€“2014\n1960â€“2024\n1960â€“2024\n\n\n\n\n\n\n\nAs shown by the data coverage table, the data differ in years covered across variables and countries. While certain variables (Fertility Rate, Net Migration, Total Population) span over 60 years for each country, others (most notably, Gini Index), have significantly shorter spans - for example, Japanâ€™s Gini Index is only known for the 2008-2020 range.\nWhile 1960 is the first year of recorded observations for Fertility Rate, GDP per Capita, Net Migration, and Total Population, OECD indeces (Employment-to-Population Ratio and Female Labor Force Participation) are available starting from 1991 and 1990, respectively.\nConsidering these date ranges across countries and variables, we can explore the interactions between long-spanning variables as the primary part of this investigation, using Employment-to-Population ratio, Female Labor Force Participation Rate, and Gini Index as auxillary variables to contextualize and enrich the analysis where their data is available. With this hybrid approach, we can maximize both temporal coverage and analytical depth, enabling broad trend analysis while still leveraging the socio-economic context captured by shorter-range indicators.\nConsidering that almost all variables cover data up to 2023, we decide to cap our exploration at 2023, and stick to the following date ranges for: - 1960-2023 for Fertiity Rate, Constant GDP Per Capita, Net Migration, and Total Population - 1991-2023 for Employment-to-Population Ratio, Female Labor Force Participation Rate, and Gini Index",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2Â  Data",
    "section": "2.6 Missing value analysis",
    "text": "2.6 Missing value analysis\nWith the aforementioned date ranges in mind, we can proceed to analyzing missing values, for each variable, in its respective timespan.\n\n\nCode\nlibrary(dplyr)\nlibrary(readr)\nlibrary(tibble)\n\nfile_path &lt;- \"./data-gathering/data/clean/master_long.csv\"\nmaster_long &lt;- read_csv(file_path, show_col_types = FALSE) |&gt;\n  mutate(\n    year  = as.integer(year),\n    value = suppressWarnings(as.numeric(value))\n  )\n\n# ------------------------------------------------------------\n# variable-specific year windows\n#   1960â€“2023: fertility_rate, gdp_capita_const, net_migration, total_population\n#   1991â€“2023: emp_to_pop, flfpr, gini_index\n# ------------------------------------------------------------\nend_year &lt;- 2023L\n\nvar_start_years &lt;- tribble(\n  ~variable,            ~start_year,\n  \"fertility_rate\",       1960L,\n  \"gdp_capita_const\",     1960L,\n  \"net_migration\",        1960L,\n  \"total_population\",     1960L,\n  \"emp_to_pop\",           1991L,\n  \"flfpr\",                1990L,\n  \"gini_index\",           1991L\n)\n\n\nrange_filtered_data &lt;- master_long |&gt;\n  inner_join(var_start_years, by = \"variable\") |&gt;\n  filter(year &gt;= start_year, year &lt;= end_year) |&gt;\n  select(country, year, variable, value) |&gt;\n  arrange(country, variable, year)\n\n \n range_filtered_data |&gt;\n   group_by(variable) |&gt;\n   summarise(min_year = min(year), max_year = max(year), .groups = \"drop\")\n\n\n# A tibble: 7 Ã— 3\n  variable         min_year max_year\n  &lt;chr&gt;               &lt;int&gt;    &lt;int&gt;\n1 emp_to_pop           1991     2023\n2 fertility_rate       1960     2023\n3 flfpr                1990     2023\n4 gdp_capita_const     1960     2023\n5 gini_index           1991     2023\n6 net_migration        1960     2023\n7 total_population     1960     2023\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(forcats)\nlibrary(ggplot2)\nlibrary(scales)\n\n\n\n# 1) Missingness per countryâ€“variable within the window\nmissing_summary &lt;- range_filtered_data |&gt;\n  inner_join(var_start_years, by = \"variable\") |&gt;\n  group_by(country, variable, start_year) |&gt;\n  summarise(\n    # years with actual (finite, non-NA) values present\n    years_present = dplyr::n_distinct(year[is.finite(value) & !is.na(value)]),\n    .groups = \"drop_last\"\n  ) |&gt;\n  mutate(\n    end_year            = end_year,\n    total_years_window  = end_year - start_year + 1L,\n    years_missing       = total_years_window - years_present,\n    pct_years_missing   = years_missing / total_years_window,\n    date_range          = paste0(start_year, \"â€“\", end_year)\n  ) |&gt;\n  ungroup() |&gt;\n  arrange(country, variable)\n\n# Show full table\nprint(missing_summary, n = Inf)\n\n\n# A tibble: 91 Ã— 9\n   country variable         start_year years_present end_year total_years_window\n   &lt;chr&gt;   &lt;chr&gt;                 &lt;int&gt;         &lt;int&gt;    &lt;int&gt;              &lt;int&gt;\n 1 AUS     emp_to_pop             1991            33     2023                 33\n 2 AUS     fertility_rate         1960            64     2023                 64\n 3 AUS     flfpr                  1990            34     2023                 34\n 4 AUS     gdp_capita_const       1960            64     2023                 64\n 5 AUS     gini_index             1991            10     2023                 33\n 6 AUS     net_migration          1960            64     2023                 64\n 7 AUS     total_population       1960            64     2023                 64\n 8 BRA     emp_to_pop             1991            33     2023                 33\n 9 BRA     fertility_rate         1960            64     2023                 64\n10 BRA     flfpr                  1990            34     2023                 34\n11 BRA     gdp_capita_const       1960            64     2023                 64\n12 BRA     gini_index             1991            29     2023                 33\n13 BRA     net_migration          1960            64     2023                 64\n14 BRA     total_population       1960            64     2023                 64\n15 CAN     emp_to_pop             1991            33     2023                 33\n16 CAN     fertility_rate         1960            64     2023                 64\n17 CAN     flfpr                  1990            34     2023                 34\n18 CAN     gdp_capita_const       1960            64     2023                 64\n19 CAN     gini_index             1991            31     2023                 33\n20 CAN     net_migration          1960            64     2023                 64\n21 CAN     total_population       1960            64     2023                 64\n22 CHN     emp_to_pop             1991            33     2023                 33\n23 CHN     fertility_rate         1960            64     2023                 64\n24 CHN     flfpr                  1990            34     2023                 34\n25 CHN     gdp_capita_const       1960            64     2023                 64\n26 CHN     gini_index             1991            19     2023                 33\n27 CHN     net_migration          1960            64     2023                 64\n28 CHN     total_population       1960            64     2023                 64\n29 DEU     emp_to_pop             1991            33     2023                 33\n30 DEU     fertility_rate         1960            64     2023                 64\n31 DEU     flfpr                  1990            34     2023                 34\n32 DEU     gdp_capita_const       1960            64     2023                 64\n33 DEU     gini_index             1991            30     2023                 33\n34 DEU     net_migration          1960            64     2023                 64\n35 DEU     total_population       1960            64     2023                 64\n36 IND     emp_to_pop             1991            33     2023                 33\n37 IND     fertility_rate         1960            64     2023                 64\n38 IND     flfpr                  1990            34     2023                 34\n39 IND     gdp_capita_const       1960            64     2023                 64\n40 IND     gini_index             1991             5     2023                 33\n41 IND     net_migration          1960            64     2023                 64\n42 IND     total_population       1960            64     2023                 64\n43 JPN     emp_to_pop             1991            33     2023                 33\n44 JPN     fertility_rate         1960            64     2023                 64\n45 JPN     flfpr                  1990            34     2023                 34\n46 JPN     gdp_capita_const       1960            64     2023                 64\n47 JPN     gini_index             1991            13     2023                 33\n48 JPN     net_migration          1960            64     2023                 64\n49 JPN     total_population       1960            64     2023                 64\n50 KOR     emp_to_pop             1991            33     2023                 33\n51 KOR     fertility_rate         1960            64     2023                 64\n52 KOR     flfpr                  1990            34     2023                 34\n53 KOR     gdp_capita_const       1960            64     2023                 64\n54 KOR     gini_index             1991            11     2023                 33\n55 KOR     net_migration          1960            64     2023                 64\n56 KOR     total_population       1960            64     2023                 64\n57 NGA     emp_to_pop             1991            33     2023                 33\n58 NGA     fertility_rate         1960            64     2023                 64\n59 NGA     flfpr                  1990            34     2023                 34\n60 NGA     gdp_capita_const       1960            64     2023                 64\n61 NGA     gini_index             1991             8     2023                 33\n62 NGA     net_migration          1960            64     2023                 64\n63 NGA     total_population       1960            64     2023                 64\n64 POL     emp_to_pop             1991            33     2023                 33\n65 POL     fertility_rate         1960            64     2023                 64\n66 POL     flfpr                  1990            34     2023                 34\n67 POL     gdp_capita_const       1960            34     2023                 64\n68 POL     gini_index             1991            30     2023                 33\n69 POL     net_migration          1960            64     2023                 64\n70 POL     total_population       1960            64     2023                 64\n71 SWE     emp_to_pop             1991            33     2023                 33\n72 SWE     fertility_rate         1960            64     2023                 64\n73 SWE     flfpr                  1990            34     2023                 34\n74 SWE     gdp_capita_const       1960            64     2023                 64\n75 SWE     gini_index             1991            26     2023                 33\n76 SWE     net_migration          1960            64     2023                 64\n77 SWE     total_population       1960            64     2023                 64\n78 USA     emp_to_pop             1991            33     2023                 33\n79 USA     fertility_rate         1960            64     2023                 64\n80 USA     flfpr                  1990            34     2023                 34\n81 USA     gdp_capita_const       1960            64     2023                 64\n82 USA     gini_index             1991            33     2023                 33\n83 USA     net_migration          1960            64     2023                 64\n84 USA     total_population       1960            64     2023                 64\n85 ZAF     emp_to_pop             1991            33     2023                 33\n86 ZAF     fertility_rate         1960            64     2023                 64\n87 ZAF     flfpr                  1990            34     2023                 34\n88 ZAF     gdp_capita_const       1960            64     2023                 64\n89 ZAF     gini_index             1991             6     2023                 33\n90 ZAF     net_migration          1960            64     2023                 64\n91 ZAF     total_population       1960            64     2023                 64\n# â„¹ 3 more variables: years_missing &lt;int&gt;, pct_years_missing &lt;dbl&gt;,\n#   date_range &lt;chr&gt;\n\n\nCode\n# 2) Aggregated view by variable (how widespread the gaps are)\nmissing_by_variable &lt;- missing_summary |&gt;\n  group_by(variable) |&gt;\n  summarise(\n    countries_with_missing = sum(pct_years_missing &gt; 0, na.rm = TRUE),\n    mean_pct_missing       = mean(pct_years_missing, na.rm = TRUE),\n    max_pct_missing        = max(pct_years_missing, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |&gt;\n  arrange(desc(mean_pct_missing))\n\nmissing_by_variable\n\n\n# A tibble: 7 Ã— 4\n  variable         countries_with_missing mean_pct_missing max_pct_missing\n  &lt;chr&gt;                             &lt;int&gt;            &lt;dbl&gt;           &lt;dbl&gt;\n1 gini_index                           12           0.415            0.848\n2 gdp_capita_const                      1           0.0361           0.469\n3 emp_to_pop                            0           0                0    \n4 fertility_rate                        0           0                0    \n5 flfpr                                 0           0                0    \n6 net_migration                         0           0                0    \n7 total_population                      0           0                0    \n\n\nCode\n# 3) Heatmap (ensures zero-missing tiles appear)\nplot_df &lt;- missing_summary |&gt;\n  select(country, variable, pct_years_missing) |&gt;\n  complete(country, variable, fill = list(pct_years_missing = 0)) |&gt;\n  mutate(\n    variable = fct_reorder(variable, pct_years_missing, .fun = mean, .desc = TRUE),\n    country  = fct_reorder(country,  pct_years_missing, .fun = mean, .desc = TRUE)\n  )\n\n# ---- Heatmap with labels for cells where missing &gt; 0 ----\nggplot(plot_df, aes(x = variable, y = country, fill = pct_years_missing)) +\n  geom_tile(color = \"grey90\", linewidth = 0.3) +\n  geom_text(\n    data = subset(plot_df, pct_years_missing &gt; 0),\n    aes(label = paste0(round(pct_years_missing * 100, 1), \"%\")),\n    color = \"black\", size = 3\n  ) +\n  scale_fill_gradient(\n    limits = c(0, 1),\n    labels = percent,\n    name = \"% Missing (within window)\",\n    low = \"white\", high = \"firebrick\"\n  ) +\n  labs(\n    title = \"Missing coverage by country and variable (date window-aware)\",\n    x = \"Variable\",\n    y = \"Country\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    axis.text.x = element_text(angle = 40, hjust = 1),\n    panel.grid = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nWe see that we are missing significant proportions of Gini Index values for most countries in the covered range. With &gt;40% missing, these are essentially incomputable and not viable for statistical analysis in combination with the other variables. Thus, we can treat the Gini Index as an extra variable that serves a contextual and interpretive role rather than a primary analytical one. It can be used to illustrate patterns or disparities in income inequality where data is available, but it should not be included in quantitative analyses or cross-variable comparisons due to its inconsistent coverage. One more problem that we can observe in the data missingness table is the fact that 46.9% of the data between 1960 and 2023 is missing for GDP per Capita in Poland. Polandâ€™s GDP data was only reliably reported after 1989, when the communist regime fell in the country. Thus, historical GDP data prior to the early 1990s is often incomplete or unavailable due to differences in accounting standards, data collection methods, and limited integration with international databases such as the World Bank. Therefore, for Poland, we will retain this gap rather than imputing values to preserve data consistency across sources.",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Data</span>"
    ]
  }
]